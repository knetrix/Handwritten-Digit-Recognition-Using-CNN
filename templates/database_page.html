<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>HANDWRITTEN NUMBER RECOGNITION PROJECT - DATABASE</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <link href="https://cdn.datatables.net/1.10.24/css/dataTables.bootstrap5.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.24/js/dataTables.bootstrap5.min.js"></script>
</head>
<body>
<div class="table-title">
<h3 style="text-align: center">HANDWRITTEN NUMBER RECOGNITION PROJECT - DATABASE</h3>
</div>
<form method="post">
    {% set z = success_rate %}
    <input type="submit" class="btn btn-warning" value="Update Database" >
    <label style="font-size: x-large" ><b>Success Rate: {{ z }}</b></label>
<table id="example" class="table table-striped table-bordered table-hover" style="width:100%" >
        <thead>
            <tr class="table-primary">
                <th>ID</th>
                <th>Image</th>
                <th>Prediction </th>
                <th>Correctness </th>
                <th>Is the Prediction Correct?</th>
                <th>Operation</th>
            </tr>
        </thead>
        <tbody>

            {% for view_database in view_database.items %}
            {% set x = view_database.image_path %}
            <tr>
                <td class="text-left" width="1px"   align="center" valign="middle"><b>{{ view_database.id}}</b></td>
                <td class="text-left" width="200px" align="center" valign="middle"><img src="{{ url_for('static', filename = x) }}" width="150" height="150"/></td>
                <td class="text-left" width="150px" align="center" valign="middle"><b>{{ view_database.prediction}}</b></td>
                <td class="text-left" width="150px" align="center" valign="middle"><b>{{ view_database.correctness}}</b></td>
                <td class="text-left" width="10px"  align="center" valign="middle">
                        <input type="checkbox" name="prediction" value={{ view_database.id}} {{ view_database.is_prediction_correct }}>
                </td>
                <td class="text-left" width="10px" align="center" valign="middle">
                    <a href="/delete/{{view_database.id}}" class="btn btn-danger btn-delete btn-sm"><b>Delete</b></a>
                </td>

            </tr>
            {% endfor %}

    </tbody>
        <tfoot>
            <tr>
                <th>ID</th>
                <th>Image</th>
                <th>Prediction </th>
                <th>Correctness </th>
                <th>Is the Prediction Correct?</th>
                <th>Operation</th>
            </tr>
        </tfoot>
    </table>
    <input type="submit" class="btn btn-warning" value="Update Database" >
    </form>
</body>
<script>
    $(document).ready(function() {
    $('#example').DataTable(
         {
            "language": {
            "url": "//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/English.json",
                },

        "pagingType": "full_numbers",
             "ordering": true,
             "columnDefs": [
    { "searchable": false, "targets": [0,1,3,4,5] }
  ],
      "aLengthMenu": [[5, 10, 25, -1], [5, 10, 25, "All"]],
        "iDisplayLength": 50
       }
        );
} );

</script>
</html>